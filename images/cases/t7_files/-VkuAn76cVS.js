if (self.CavalryLogger) { CavalryLogger.start_js(["OUq81"]); }

__d("ChatSidebarSections",[],(function(a,b,c,d,e,f){e.exports={ADMINED_PAGES:"admined_pages",MORE_ONLINE_FRIENDS:"more_online_friends",MORE_ONLINE_COWORKERS:"more_online_coworkers",OFFLINE_USERS:"offline_users",ORDERED_LIST:"ordered_list",ORDERED_COWORKERS:"ordered_coworkers",TYPEAHEAD:"typeahead",NOW_PINNED_LIST:"now_pinned_list",NEARBY:"nearby",WORKPLACE_BOTS:"workplace_bots",WORKPLACE_OTHERS:"workplace_others",PYMM:"pymm",GROUPS:"groups"}}),null);
__d("AvailableListState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OFFLINE:0,IDLE:1,ACTIVE:2,MOBILE:3})}),null);
__d("AvailableListConstants",["AvailableListState"],(function(a,b,c,d,e,f){a=Object.freeze({ON_AVAILABILITY_CHANGED:"buddylist/availability-changed",ON_UPDATE_ERROR:"buddylist/update-error",ON_UPDATED:"buddylist/updated",ON_CHAT_NOTIFICATION_CHANGED:"chat-notification-changed",OFFLINE:b("AvailableListState").OFFLINE,IDLE:b("AvailableListState").IDLE,ACTIVE:b("AvailableListState").ACTIVE,MOBILE:b("AvailableListState").MOBILE,WEB_STATUS:"webStatus",FB_APP_STATUS:"fbAppStatus",MESSENGER_STATUS:"messengerStatus",OTHER_STATUS:"otherStatus",STATUS_ACTIVE:"active",STATUS_IDLE:"idle",STATUS_OFFLINE:"offline"});e.exports=a}),null);
__d("ChatConfig",["invariant","ChatConfigInitialData"],(function(a,b,c,d,e,f,g){__p&&__p();var h=Object.assign({},b("ChatConfigInitialData")),i={get:function(a,b){return a in h?h[a]:b},getBool:function(a){return!!i.get(a,!1)},getNumber:function(a,b){b===void 0&&(b=0);if(a in h){typeof h[a]==="number"||g(0);return h[a]}return b},set:function(a,b){h[a]=b},getDebugInfo:function(){return h}};e.exports=i}),null);
__d("PresenceUtil",["CurrentUser","randomInt"],(function(a,b,c,d,e,f){var g=b("randomInt")(0,4294967295)+1;function a(){return g}function c(){return b("CurrentUser").isLoggedInNow()}e.exports={getSessionID:a,hasUserCookie:c}}),null);
__d("PresencePrivacy",["Arbiter","ArbiterMixin","AsyncRequest","ChannelConstants","CurrentUser","JSLogger","PresencePrivacyInitialData","PresenceUtil","mixin"],(function(a,b,c,d,e,f){__p&&__p();var g,h="/ajax/chat/privacy/settings.php",i="/ajax/chat/privacy/online_policy.php",j="/ajax/chat/privacy/visibility.php",k="friend_visibility",l="visibility",m="online_policy",n=babelHelpers["extends"]({},b("PresencePrivacyInitialData").privacyData),o=b("PresencePrivacyInitialData").visibility,p=babelHelpers["extends"]({},b("PresencePrivacyInitialData").privacyData),q=o,r=b("PresencePrivacyInitialData").onlinePolicy,s=r,t=[],u=!1;function v(){return b("JSLogger").create("blackbird")}d=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));g=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.WHITELISTED=1,this.BLACKLISTED=-1,this.UNLISTED=0,this.ONLINE=1,this.OFFLINE=0,this.ONLINE_TO_WHITELIST=0,this.ONLINE_TO_BLACKLIST=1,b}a.prototype.init=function(a,b,c){"use strict"};a.prototype.setVisibility=function(a){"use strict";q=o;z(a);var b={visibility:a},c={type:l,visibility:a},d=H(j,b,c);C(d,c);v().log("set_visibility",{data:b});return a};a.prototype.getVisibility=function(){"use strict";return o};a.prototype.setOnlinePolicy=function(a){"use strict";s=r;A(a);var b={online_policy:a},c={type:m,online_policy:a},d=H(i,b,c);C(d,c);v().log("set_online_policy",{data:b});return a};a.prototype.getOnlinePolicy=function(){"use strict";return r};a.prototype.getFriendVisibility=function(a){"use strict";return n[a]||w.UNLISTED};a.prototype.getFriendsVisibility=function(){"use strict";return n};a.prototype.isUserOffline=function(){"use strict";return this.getVisibility()===w.OFFLINE};a.prototype.allows=function(a){"use strict";return this.isUserOffline()?!1:this.allowsIfViewerIsOnline(a)};a.prototype.allowsIfViewerIsOnline=function(a){"use strict";var b=this.getOnlinePolicy();return b===w.ONLINE_TO_WHITELIST?n[a]==w.WHITELISTED:n[a]!=w.BLACKLISTED};a.prototype.getOnlinePolicyStr=function(){"use strict";if(this.isUserOffline())return"offline";var a=this.getOnlinePolicy();if(a===w.ONLINE_TO_WHITELIST)return"online_to_whitelist";return a===w.ONLINE_TO_BLACKLIST?"online_to_blacklist":"unknown"};a.prototype.setFriendsVisibility=function(a,b){"use strict";__p&&__p();if(a.length>0){var c={};for(var d=0;d<a.length;d++){var e=a[d];p[e]=n[e];c[e]=b}x(c);e=b;e==w.UNLISTED&&(e=p[a[0]]);d={users:a,setting:b,setting_type:e};a={type:k,settings:c};e=H(h,d,a);C(e,a);v().log("set_friend_visibility",{data:d})}return b};a.prototype.setFriendVisibilityMap=function(a,b){"use strict";for(var c in a)p[c]=n[c];x(a);var d={type:k,settings:a};C(G(b,d),d);v().log("set_friend_visibility_from_map",{data:a})};a.prototype.allow=function(a){"use strict";__p&&__p();if(this.allows(a)){v().error("allow_already_allowed");throw new Error("allow() should only be called for users that are not already allowed")}if(this.getVisibility()===w.OFFLINE){v().error("allow_called_while_offline");throw new Error("allow() should only be called when the user is already online")}var b=this.getOnlinePolicy()===w.ONLINE_TO_WHITELIST?w.WHITELISTED:w.UNLISTED;return this.setFriendsVisibility([a],b)};a.prototype.disallow=function(a){"use strict";__p&&__p();if(!this.allows(a)){v().error("disallow_already_disallowed");throw new Error("disallow() should only be called for users that are not already disallowed")}if(this.getVisibility()===w.OFFLINE){v().error("disallow_called_while_offline");throw new Error("disallow() should only be called when the user is already online")}var b=this.getOnlinePolicy()===w.ONLINE_TO_BLACKLIST?w.BLACKLISTED:w.UNLISTED;return this.setFriendsVisibility([a],b)};a.prototype.getBlacklist=function(){"use strict";var a=[];for(var b in n)n[b]===w.BLACKLISTED&&a.push(b);return a};a.prototype.getWhitelist=function(){"use strict";var a=[];for(var b in n)n[b]===w.WHITELISTED&&a.push(b);return a};a.prototype.getMapForTest=function(){"use strict";return n};a.prototype.setMapForTest=function(a){"use strict";n=a};var w=new a();function x(a){__p&&__p();var c;for(c in a){var d=a[c];if(c==b("CurrentUser").getID()){v().error("set_viewer_visibility");throw new Error("Invalid to set current user's visibility")}switch(d){case w.WHITELISTED:case w.BLACKLISTED:case w.UNLISTED:break;default:v().error("set_invalid_friend_visibility",{id:c,value:d});throw new Error("Invalid state: "+d)}}for(c in a)n[c]=a[c];w.inform("privacy-changed")}function y(a,b){var c={};c[a]=b;x(c)}function z(a){switch(a){case w.ONLINE:case w.OFFLINE:break;default:v().error("set_invalid_visibility",{value:a});throw new Error("Invalid visibility: "+a)}o=a;w.inform("privacy-changed");w.inform("privacy-user-presence-changed")}function A(a){switch(a){case w.ONLINE_TO_WHITELIST:case w.ONLINE_TO_BLACKLIST:break;default:throw new Error("Invalid default online policy: "+a)}r=a;w.inform("privacy-user-presence-changed");w.inform("privacy-changed")}function B(a,b){u=!0,a.send()}function C(a,b){t.push({request:a,data:b});if(!u){a=t.shift();B(a.request,a.data)}}function D(a,b){var c=a.type;if(c===k){w.inform("privacy-availability-changed");for(var d in a.settings)p[d]=a.settings[d]}else c===l?q=a.visibility:c===m&&(s=a.online_policy),w.inform("privacy-user-presence-response");v().log("set_update_response",{data:a,response:b})}function E(a,b){o!==q&&z(q),r!==s&&A(s),Object.assign(n,p),w.inform("privacy-changed"),t=[],v().log("set_error_response",{data:a,response:b})}function F(a){u=!1;if(t.length>0){a=t.shift();B(a.request,a.data)}}function G(a,c){if(b("PresenceUtil")!=null){var d=a.getData();d.window_id=b("PresenceUtil").getSessionID();a.setData(d)}a.setHandler(D.bind(this,c)).setErrorHandler(E.bind(this,c)).setTransportErrorHandler(E.bind(this,c)).setFinallyHandler(F.bind(this)).setAllowCrossPageTransition(!0);return a}function H(a,c,d){return G(new(b("AsyncRequest"))(a).setData(c),d)}function c(a,c){__p&&__p();var d=c.obj;if(d.viewer_id!=b("CurrentUser").getID()){v().error("invalid_viewer_for_channel_message",{type:a,data:c});throw new Error("Viewer got from the channel is not the real viewer")}if(d.window_id===b("PresenceUtil").getSessionID())return;var e=d.data;if(d.event=="access_control_entry")e.target_ids.forEach(function(a){y(a,e.setting),p[a]=e.setting});else{if(d.event=="visibility_update"){a=e.visibility?w.ONLINE:w.OFFLINE;z(a);q=a}else d.event=="online_policy_update"&&(A(e.online_policy),s=e.online_policy);w.inform("privacy-user-presence-response")}v().log("channel_message_received",{data:c.obj})}w.inform("privacy-changed");w.inform("privacy-user-presence-changed",b("Arbiter").BEHAVIOR_STATE);v().log("initialized",{visibility:o,policy:r});b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,c){c.presence_privacy={initial:b("PresencePrivacyInitialData").privacyData,current:n}});b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("privacy_changed"),c.bind(this));b("Arbiter").subscribe(b("ChannelConstants").ON_CONFIG,function(a,b){a=b.getConfig("visibility",null);if(a!==null&&typeof a!=="undefined"){b=a?w.ONLINE:w.OFFLINE;z(b);v().log("config_visibility",{vis:b})}}.bind(this));e.exports=w}),null);
__d("ChatVisibility",["Arbiter","JSLogger","PresencePrivacy"],(function(a,b,c,d,e,f){var g={isOnline:function(){return b("PresencePrivacy").getVisibility()===b("PresencePrivacy").ONLINE},hasBlackbirdEnabled:function(){return this.isVisibleToMostFriends()||this.isVisibleToSomeFriends()},isVisibleToMostFriends:function(){return b("PresencePrivacy").getOnlinePolicy()===b("PresencePrivacy").ONLINE_TO_BLACKLIST&&b("PresencePrivacy").getBlacklist().length>0},isVisibleToSomeFriends:function(){return b("PresencePrivacy").getOnlinePolicy()===b("PresencePrivacy").ONLINE_TO_WHITELIST&&b("PresencePrivacy").getWhitelist().length>0},goOnline:function(a){b("PresencePrivacy").getVisibility()===b("PresencePrivacy").OFFLINE&&(b("JSLogger").create("blackbird").log("chat_go_online"),b("PresencePrivacy").setVisibility(b("PresencePrivacy").ONLINE),b("Arbiter").inform("chat-visibility/go-online")),a&&a()},goOffline:function(a){b("PresencePrivacy").getVisibility()===b("PresencePrivacy").ONLINE&&(b("JSLogger").create("blackbird").log("chat_go_offline"),b("PresencePrivacy").setVisibility(b("PresencePrivacy").OFFLINE),b("Arbiter").inform("chat-visibility/go-offline")),a&&a()},toggleVisibility:function(){g.isOnline()?g.goOffline():g.goOnline()}};e.exports=g}),null);
__d("LastActiveTimes",["fbt","ServerTime"],(function(a,b,c,d,e,f,g){__p&&__p();var h={};function i(a){__p&&__p();if(!a||a<0)return null;a=b("ServerTime").get()/1e3-a;a=Math.floor(a/60);var c=Math.floor(a/60),d=Math.floor(c/24);if(a<=1)return g._({"*":"{count} min"},[g._param("count",1,[0])]);else if(a<60)return g._({"*":"{count} min"},[g._param("count",a,[0])]);else if(c<24)return g._({"*":"{count} h"},[g._param("count",c,[0])]);else if(d<3)return g._({"*":"{count} d"},[g._param("count",d,[0])]);else return null}function j(a,b){(!(a in h)||h[a]<b)&&(h[a]=b)}function k(a){if(a in h)return h[a];else return 0}a={update:function(a){for(var b in a)j(b,a[b])},getShortDisplay:function(a){return i(k(a))},get:function(a){return k(a)},getDebugData:function(){return h}};e.exports=a}),null);
__d("PresenceStatus",["ArbiterMixin","AvailableListConstants","AvailableListInitialData","BanzaiODS","Bootloader","ChatConfig","ChatVisibility","CurrentUser","FBIDCheck","FBLogger","LastActiveTimes","PresencePrivacy","ServerTime","createObjectFrom","debounceAcrossTransitions","gkx"],(function(a,b,c,d,e,f){__p&&__p();b("BanzaiODS").setEntitySample("presence",1e-4);var g={},h={},i={},j={},k=null,l=Object.assign({},b("ArbiterMixin")),m=b("debounceAcrossTransitions")(function(){return l.inform("change")},0);function n(a){var c,d=parseInt(a.topic.match(/\d+$/),10);a=parseInt(JSON.parse(a.payload).lat,10);var e=Date.now()-a*1e3;e=b("ChatConfig").get("active_cutoff")*1e3-e;b("LastActiveTimes").update((c={},c[d]=a,c));l.checkPresence(d);l.get(d)===b("AvailableListConstants").ACTIVE&&(clearTimeout(j[d].timeout),j[d].timeout=setTimeout(function(){l.checkPresence(d)},e))}function o(a){try{a=JSON.parse(a.payload);k=a.capabilityBitMask}catch(a){}}function p(a){return/^\d+$/.test(a)}Object.assign(l,{resetPresenceData:function(){g={},h={}},reset:function(){l.resetPresenceData(),i={}},get:function(a){!p(a)&&b("ChatConfig").get("presence_throw_for_malformed_id")&&b("FBLogger")("presence").warn("received malformed id '%s'",a);if(a==b("CurrentUser").getID())return b("ChatVisibility").isOnline()?b("AvailableListConstants").ACTIVE:b("AvailableListConstants").OFFLINE;p(a)&&!b("FBIDCheck").isUser_deprecated(a)&&!j[a]&&(b("BanzaiODS").bumpEntityKey("presence","page_subscribe"),j[a]={},b("ChatConfig").get("presence_page_green_dot_sub")&&b("Bootloader").loadModules(["RTISubscriptionManager"],function(b){b.subscribe("presence_push/fb/"+a,n)},"PresenceStatus"));var c=b("AvailableListConstants").OFFLINE;a in g&&(c=g[a]);b("PresencePrivacy").allows(a)||(c=b("AvailableListConstants").OFFLINE);return c},getCapabilities:function(a){a=h[a];return a?a:0},getViewerCapabilities:function(){if(k!==null)return k;b("Bootloader").loadModules(["RTISubscriptionManager"],function(a){a.subscribe("presence/fb/"+b("CurrentUser").getID(),o)},"PresenceStatus");k=b("ChatConfig").get("viewer_presence_capabilities");return k},isPlayingCanvasGameUser:function(a){return!!i[a]},getGroup:function(a){return a.some(function(a){return a==b("CurrentUser").getID()?!1:l.get(a)===b("AvailableListConstants").ACTIVE})?b("AvailableListConstants").ACTIVE:b("AvailableListConstants").OFFLINE},set:function(a,c,d,e,f,i){__p&&__p();if(a==b("CurrentUser").getID())return!1;var j;if(c!==null&&c!==undefined){c=c==b("AvailableListConstants").ACTIVE?b("AvailableListConstants").ACTIVE:b("AvailableListConstants").OFFLINE;d=l.get(a);j=d!=c;if((j||c==b("AvailableListConstants").ACTIVE)&&b("FBIDCheck").isUser_deprecated(a)){b("LastActiveTimes").update((e={},e[a]=b("ServerTime").get()/1e3,e))}g[a]=c}d=!1;f!==undefined&&f!==null&&(d=l.getCapabilities(a)!=f,h[a]=f);e=j||d;e&&!i&&m();return e},setPlayingCanvasGameFriends:function(a){if(!b("gkx")("AT63aD2C9-fv79urP7EIQBv3xq1MHcxwP1I6FtWmRNMg4KbjP2Am2oU4XyjW-B79fHuBlyNprN6_RmaeE-t7Y3Fw"))return;i=b("createObjectFrom")(a)},getOnlineIDs:function(){var a,c=[];for(a in g)l.get(a)===b("AvailableListConstants").ACTIVE&&c.push(a);return c},getAllIDs:function(){return Object.keys(g)},getOnlineCount:function(){return l.getOnlineIDs().length},getPresenceStats:function(){__p&&__p();var a=0,c=0,d=0;for(var e in g){a+=1;switch(l.get(e)){case b("AvailableListConstants").OFFLINE:c+=1;break;case b("AvailableListConstants").ACTIVE:d+=1;break;default:break}}return{total:a,offline:c,active:d}},getAllDebugInfo:function(){var a={};for(var b in g)a[b]={p:g[b],vc:h[b]};return a},setMultiChatproxy:function(a){var c={};for(var d in a){a[d].lat&&(c[d]=a[d].lat);var e=a[d].p;l.set(d,e,!1,"chatproxy",a[d].vc,!0)}b("LastActiveTimes").update(c);m()},setMultiActive:function(a,c){var d=!1;a.forEach(function(a){l.set(a,b("AvailableListConstants").ACTIVE,!1,c,null,!0)&&(d=!0)});d&&m()},checkPresence:function(a){var c=!1,d=Math.ceil(Date.now()/1e3)-b("LastActiveTimes").get(a);l.set(a,d<b("ChatConfig").get("active_cutoff")?b("AvailableListConstants").ACTIVE:b("AvailableListConstants").OFFLINE,!1,"pylon",null,!0)&&(c=!0);c&&m()}});b("AvailableListInitialData").activeList&&b("AvailableListInitialData").activeList.length>0&&l.setMultiActive(b("AvailableListInitialData").activeList,"available_list_active");b("AvailableListInitialData").playingNow&&b("AvailableListInitialData").playingNow.length>0&&l.setPlayingCanvasGameFriends(b("AvailableListInitialData").playingNow);b("AvailableListInitialData").lastActiveTimes&&Object.keys(b("AvailableListInitialData").lastActiveTimes).length>0&&b("LastActiveTimes").update(b("AvailableListInitialData").lastActiveTimes);e.exports=l}),null);
__d("MercuryBootloadOnInteraction.react",["React","createCancelableFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={Component:null},this.$2=function(a){a=this.state.interactionType==="click"?"click":a.type;this.setState({interactionType:a},function(){b("promiseDone")(this.props.loader.load(),function(a){this.props.takeOverRender?this.props.takeOverRender(function(){return this.$1(a)}.bind(this)):this.$1(a)}.bind(this))}.bind(this))}.bind(this),this.$3=function(a){this.setState({Component:a})}.bind(this),this.$4=function(a){this.state.interactionType!=="click"&&this.setState({interactionType:undefined})}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=b("createCancelableFunction")(this.$3)};a.prototype.componentWillUnmount=function(){this.$1.cancel()};a.prototype.render=function(){__p&&__p();var a={onFocus:this.$2,onMouseOver:this.$2,onClick:this.$2,onBlur:this.$4};if(!this.state.Component)return b("React").cloneElement(this.props.placeholder,a);a=this.state.Component;var c={};switch(this.state.interactionType){case"focus":c.autoFocus=!0;break;case"click":c.clicked=!0;break}return b("React").cloneElement(this.props.component,babelHelpers["extends"]({},c,{LazyLoadedComponent:a}))};e.exports=a}),null);
__d("ChatTypeaheadCore",["csx","cx","fbt","Bootloader","BootloadOnRender.react","CurrentUser","DOM","JSResource","LazyComponent.react","MercuryBootloadOnInteraction.react","React","ReactDOM","emptyFunction","ge","gkx","onAfterDisplay"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("gkx")("AT6Vd8Lbi8UqLKJqQjAcfopWe5cqEOccp4eiS-V8yRxIDMKBLX2DogknGNtScECqpDmo8hLH8oHxnmHNnFmaPT0QTS-6M2LFaLgAiPg3H1wdHg")?b("MercuryBootloadOnInteraction.react"):b("BootloadOnRender.react"),k,l="",m=[],n={search:"._58al",settings:"._5vmb",compose:"._5q85",groupcreate:"._1-4-"},o=!1,p=b("emptyFunction");a={_handleInteraction:function(a,c){if(!b("gkx")("AT6Vd8Lbi8UqLKJqQjAcfopWe5cqEOccp4eiS-V8yRxIDMKBLX2DogknGNtScECqpDmo8hLH8oHxnmHNnFmaPT0QTS-6M2LFaLgAiPg3H1wdHg"))return;m.push(a);a==="search"&&(l=c?c:"")},_handleCompositionStart:function(){o=!0},_handleCompositionEnd:function(){o=!1,p(),p=b("emptyFunction")},takeOverRender:function(a){!o?a():p===b("emptyFunction")&&(p=a)},processInteractionsQueue:function(){m.forEach(function(a){if(!n[a])return;var c=b("DOM").scry(b("ge")("chatsearch"),n[a]);c&&c[0]&&(a!=="search"?c[0].click():k=c[0],c[0].focus())})},focusSearchField:function(a,event){if(!k){a=b("DOM").scry(a,"._3rhb input");a.length>0&&(k=a[0])}k&&(k.focus(),event.prevent())},getLastSearchQuery:function(){return l},deferRenderChatSidebarSheet:function(a){b("onAfterDisplay")(function(){b("Bootloader").loadModules(["ChatSidebarSheet.react"],function(c){var d=b("ge")("chatsidebarsheet");b("ReactDOM").render(b("React").createElement(c,{className:"fbChatSidebarMessage",viewer:b("CurrentUser").getID(),isSideBar:a}),d)},"ChatTypeaheadCore")})},init:function(a,c,d){b("gkx")("AT6Vd8Lbi8UqLKJqQjAcfopWe5cqEOccp4eiS-V8yRxIDMKBLX2DogknGNtScECqpDmo8hLH8oHxnmHNnFmaPT0QTS-6M2LFaLgAiPg3H1wdHg")&&this.deferRenderChatSidebarSheet(d),b("ReactDOM").render(b("React").createElement("div",null,b("React").createElement("div",{id:"chatsidebarsheet"}),b("React").createElement(j,{loader:b("JSResource")("ChatTypeaheadWrapper.react").__setRef("ChatTypeaheadCore"),placeholder:b("React").createElement("div",null,b("React").createElement("div",{className:"_1nq2"},b("React").createElement("div",{className:"_5iwm _5iwn _62it"},b("React").createElement("label",{className:"_58ak _3rhb"},b("React").createElement("input",{className:"_58al",type:"text",onChange:function(event){return this._handleInteraction("search",event.target.value)}.bind(this),onFocus:function(event){return this._handleInteraction("search",event.target.value)}.bind(this),onCompositionStart:this._handleCompositionStart,onCompositionEnd:this._handleCompositionEnd,placeholder:i._("Buscar")})))),d?b("React").createElement("div",{className:"_531b"},b("React").createElement("div",{className:"_5qth _6a _6e"},b("React").createElement("a",{href:"#",className:"button _5vmb",onClick:function(){return this._handleInteraction("settings")}.bind(this)})),b("React").createElement("a",{href:"#",className:"_3a-4 _5q85",onClick:function(){return this._handleInteraction("compose")}.bind(this)}),b("React").createElement("div",{className:"_46fv"},b("React").createElement("a",{href:"#",className:"_1-4-",onClick:function(){return this._handleInteraction("groupcreate")}.bind(this)}))):null),takeOverRender:this.takeOverRender,component:b("React").createElement(b("LazyComponent.react"),{id:c,isSidebar:d})})),a)}};e.exports=a}),null);
__d("SRXUIBadge.react",["cx","invariant","React","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.isInt=function(a){"use strict";return parseInt(a,10)===a};a.prototype.render=function(){"use strict";var a=this.props.count,c=this.props.maxcount;c==null&&(c=20);this.isInt(a)||h(0);this.isInt(c)||h(0);var d="_5ugh _5ugf _51lp"+(a>c?" _51lr":"")+(a===0?" hidden_elem":"");return b("React").createElement("span",{className:b("joinClasses")(this.props.className,d)},a>c?c:a)};function a(){"use strict";i.apply(this,arguments)}e.exports=a}),null);
__d("BootloaderGamesPresenceIconContainer.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{userID:a.userID}),loader:b("JSResource")("GamesPresenceIconContainer.react").__setRef("BootloaderGamesPresenceIconContainer.react"),placeholder:b("React").createElement("div",null)})}e.exports=a}),null);
__d("ChatReliabilityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setEventData=function(a){this.$1.event_data=a;return this};c={event:!0,event_data:!0};e.exports=a}),null);
__d("MessengerDivebarSizingTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerDivebarSizingLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerDivebarSizingLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerDivebarSizingLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setMaxItemSlots=function(a){this.$1.max_item_slots=a;return this};a.prototype.setNumAdminedPages=function(a){this.$1.num_admined_pages=a;return this};a.prototype.setNumGroups=function(a){this.$1.num_groups=a;return this};a.prototype.setNumNearby=function(a){this.$1.num_nearby=a;return this};a.prototype.setNumPymm=function(a){this.$1.num_pymm=a;return this};a.prototype.setNumRecents=function(a){this.$1.num_recents=a;return this};a.prototype.setNumTopFriends=function(a){this.$1.num_top_friends=a;return this};a.prototype.setNumTopFriendsShown=function(a){this.$1.num_top_friends_shown=a;return this};a.prototype.setSidebarType=function(a){this.$1.sidebar_type=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={max_item_slots:!0,num_admined_pages:!0,num_groups:!0,num_nearby:!0,num_pymm:!0,num_recents:!0,num_top_friends:!0,num_top_friends_shown:!0,sidebar_type:!0};e.exports=a}),null);
__d("ChatReliabilityEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ERROR:"error",CHANNEL_DISCONNECT:"channel_disconnect",CHANNEL_CONNECT:"channel_connect",CHANNEL_INIT:"channel_init",CHANNEL_NOCONFIG:"channel_noconfig",CHANNEL_HISTORY_INVALID:"channel_history_invalid",CHANNEL_STALLED:"channel_stalled",MESSAGE_RECEIVED:"msg_received",MESSAGE_SEND_START:"msg_send_start",THREAD_INFO_ENDPOINT_FATAL:"thread_info_fatal",DFF_ENDPOINT_FATAL:"invalidate_global_state_fatal",DFF_DELTA_INIT:"dff_initiated_by_delta",DFF_HOLE_INIT:"dff_initiated_by_hole"})}),null);
__d("ChatReliabilityInstrumentation",["ChatReliabilityEvents","ChatReliabilityTypedLogger","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(event,a){if(!b("gkx")("AT5ZjV8HMgIrvWAdtan2dRootzXgNDn_gwV31adDo4tXzlNarwl6mRO_oeBdt0f9htexVFvjQxI0k_n8DA4dQ67qv29jXbtX1X-VERmy6nzotA"))return;new(b("ChatReliabilityTypedLogger"))().setEvent(event).setEventData(a).log()};a={logERROR:function(a){g(b("ChatReliabilityEvents").ERROR,a)},logCHANNEL_DISCONNECT:function(a){g(b("ChatReliabilityEvents").CHANNEL_DISCONNECT,a)},logCHANNEL_CONNECT:function(a){g(b("ChatReliabilityEvents").CHANNEL_CONNECT,a)},logCHANNEL_HISTORY_INVALID:function(a){g(b("ChatReliabilityEvents").CHANNEL_HISTORY_INVALID,a)},logMESSAGE_RECEIVED:function(a){g(b("ChatReliabilityEvents").MESSAGE_RECEIVED,a)},logMESSAGE_SEND_START:function(a){g(b("ChatReliabilityEvents").MESSAGE_SEND_START,a)},logCHANNEL_STALLED:function(a){g(b("ChatReliabilityEvents").CHANNEL_STALLED,a)},logCHANNEL_INIT:function(a){g(b("ChatReliabilityEvents").CHANNEL_INIT,a)},logCHANNEL_NOCONFIG:function(a){g(b("ChatReliabilityEvents").CHANNEL_NOCONFIG,a)},logDFF_DELTA_INIT:function(a){g(b("ChatReliabilityEvents").DFF_DELTA_INIT,a)},logDFF_HOLE_INIT:function(a){g(b("ChatReliabilityEvents").DFF_HOLE_INIT,a)}};e.exports=a}),null);
__d("WorkChatAvailabilityStatusLoader",["Promise","Bootloader","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={_store:null,_actions:null,_promise:null,getStoreEnforce:function(){b("nullthrows")(this._store,"Status store is not loaded");return this._store},getActionsEnforce:function(){b("nullthrows")(this._actions,"Status actions is not loaded");return this._actions},isLoaded:function(){return this._store&&this._actions},load:function(){this._promise||(this._promise=new(b("Promise"))(function(a){b("Bootloader").loadModules(["WorkChatAvailabilityStatusActions","WorkChatAvailabilityStatusStore"],function(b,c){this._store=c,this._actions=b,a({store:c,actions:b})}.bind(this),"WorkChatAvailabilityStatusLoader")}.bind(this)));return this._promise}};e.exports=a}),null);
__d("ChatSidebarConstants",["ChatConfig"],(function(a,b,c,d,e,f){"use strict";var g=b("ChatConfig").getBool("divebar_rounded_profile"),h={IMAGE_SIZE:32,getDefaultImageSize:function(){return h.IMAGE_SIZE},getImageSize:function(){return h.IMAGE_SIZE+(g?2:0)},getItemHeight:function(){return h.IMAGE_SIZE+8}};e.exports=h}),null);
__d("SRLayout.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){function a(a){return b("React").createElement("div",{className:b("joinClasses")(a.className,"_5aj7")},a.children)}e.exports=a}),null);
__d("SRLayoutColumn.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){function a(a){return b("React").createElement("div",{className:b("joinClasses")(a.className,"_4bl7")},a.children)}e.exports=a}),null);
__d("SRLayoutFillColumn.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){function a(a){return b("React").createElement("div",{className:b("joinClasses")(a.className,"_4bl9")},a.children)}e.exports=a}),null);
__d("SRLink.react",["React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement("a",this.props,this.props.children)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("SplitImage.react",["cx","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a=this.props.size,c=this.props.srcs,d=this.props.border,e=this.props.className;if(c.length===0)return null;var f=null;c.length===1?f=this.$1(c[0],a):c.length===2?f=this.$2(c,a,d):f=this.$3(c,a,d);return b("React").createElement("div",{className:b("joinClasses")(e,"_55lt"),style:{width:a,height:a}},f)};a.prototype.$1=function(a,c){"use strict";return b("React").createElement(b("Image.react"),{src:a,width:c,height:c,alt:""})};a.prototype.$2=function(a,c,d){"use strict";var e=Math.floor(c/2),f=-Math.floor(e/2);d="_55lu"+(d?" _57xo":"");return b("React").createElement("div",null,b("React").createElement("div",{className:"_55lu",style:{width:e}},b("React").createElement(b("Image.react"),{src:a[0],width:c,height:c,style:{marginLeft:f},alt:""})),b("React").createElement("div",{className:d,style:{width:e}},b("React").createElement(b("Image.react"),{src:a[1],width:c,height:c,style:{marginLeft:f},alt:""})))};a.prototype.$3=function(a,c,d){"use strict";var e=Math.floor(c/3*2),f=-Math.floor((c-e)/2),g=Math.floor(c/2),h=c-e,i=-Math.floor((g-h)/2),j="_55lu"+(d?" _57pl":"");d="_55lu"+(d?" _57pm":"");return b("React").createElement("div",null,b("React").createElement("div",{className:j,style:{width:e}},b("React").createElement(b("Image.react"),{src:a[0],width:c,height:c,style:{marginLeft:f},alt:""})),b("React").createElement("div",{className:d,style:{width:h,height:g}},b("React").createElement(b("Image.react"),{src:a[1],width:g,height:g,style:{marginLeft:i},alt:""})),b("React").createElement("div",{className:"_55lu",style:{width:h,height:g}},b("React").createElement(b("Image.react"),{src:a[2],width:g,height:g,style:{marginLeft:i},alt:""})))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("ChatSidebarAdminedPage.react",["cx","Bootloader","React","SplitImage.react","SRLayout.react","SRLayoutColumn.react","SRLayoutFillColumn.react","SRLink.react","SRXUIBadge.react","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$3=function(){var a=this.props,c=a.slot,d=a.slotOffset,e=a.totalSlots;b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger"],function(a){new a().setSlotClicked(d+c).setSlotsVisibleBeforeScrolling(e).setRelativeSlotClicked(this.props.slot).setSidebarSection("admined_pages").log()}.bind(this),"ChatSidebarAdminedPage.react")}.bind(this),this.$2=function(){var a=String(this.props.page.id);b("gkx")("AT4T9LO8V3BIOVcGOYPKxxsCiNDzy0HHXFfwezwsUTXaZjtufQoUfjAr_b0uxP3zESohJEtycMUpu9xvYr512cum")||b("gkx")("AT4Aq9ewKIFTl67cxoDAodIE6NOyKQZWxOTK7vUN4WSVpVwOKKYWwQCOkB7MMU0feig4qnlFrIZeyqu4hV61bOjlQn8Q2DP89kXsLrKS2wNNWQ")?b("Bootloader").loadModules(["ChatSidebarHoverCardV2","MessengerChatSidebarSlotsTypedLogger"],function(b,c){b.show(a,this.$1)}.bind(this),"ChatSidebarAdminedPage.react"):b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger"],b("emptyFunction"),"ChatSidebarAdminedPage.react");this.props.onMouseEnter&&this.props.onMouseEnter(a)}.bind(this),c}a.prototype.render=function(){var a=9,c=this.props.page,d=c.imgSrc,e=[];d!=null&&(e=[d]);return b("React").createElement("li",{className:"_12um _42fz","data-id":c.id,ref:function(a){this.$1=a}.bind(this),onMouseOver:this.$2,onClick:this.$3},b("React").createElement("div",{className:"_55ln"},b("React").createElement("div",{className:"_55lp"},b("React").createElement(b("SRLayout.react"),null,b("React").createElement(b("SRLayoutColumn.react"),null,b("React").createElement(b("SRLink.react"),{href:c.uri},b("React").createElement("div",{className:"_55lq"},b("React").createElement(b("SplitImage.react"),{size:c.imgSize,srcs:e})))),b("React").createElement(b("SRLayoutFillColumn.react"),null,b("React").createElement(b("SRLink.react"),{className:"_224p",href:c.uri},b("React").createElement("div",{className:"_55lr"},c.name))),b("React").createElement(b("SRLayoutColumn.react"),{className:"_3p8_"},b("React").createElement("div",{className:"_5bon"},b("React").createElement(b("SRXUIBadge.react"),{className:"_4fsv",count:c.badgingCount,maxcount:a})))))))};e.exports=a}),null);
__d("ChatSidebarCreateNewGroupItem.react",["ix","cx","fbt","Bootloader","ChatConfig","Image.react","Link.react","React","TooltipData","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){var c=this.props,d=c.slot,e=c.slotOffset,f=c.totalSlots;b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger","MessengerGCFJewelNewGroupButtonInit"],function(a,b){new a().setSlotClicked(e+d).setSlotsVisibleBeforeScrolling(f).setRelativeSlotClicked(d).setSidebarSection("groups").log(),b.onLinkClick()},"ChatSidebarCreateNewGroupItem.react");a.preventDefault()}.bind(this),c}a.prototype.render=function(){var a=i._("Crear nuevo grupo"),c=g("492281"),d=20,e="_55ln"+(b("ChatConfig").get("divebar_rounded_profile",!1)?" _qhr":"");return b("React").createElement("div",b("TooltipData").propsFor(this.$1()),b("React").createElement(b("Link.react"),{className:e,href:"#",onClick:this.$2,rel:"ignore"},b("React").createElement("div",{className:"_55lp"},b("React").createElement("div",{className:"_55lq _tt_","aria-hidden":!0},b("React").createElement(b("Image.react"),{className:"_tu0",src:c,width:d,height:d,alt:""})),b("React").createElement("div",{className:"_55lr"},a))))};a.prototype.$1=function(){return i._("Crear nuevo grupo")};a.propTypes={slot:c.number,slotOffset:c.number,totalSlots:c.number};e.exports=a}),null);
__d("ChatSidebarNameWithGameInfo.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React","TextWithEmoticons.react"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.name,d=a.userID;a=a.nameCanHaveEmoji!=null&&a.nameCanHaveEmoji;var e=a?b("React").createElement(b("TextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:c}):c;return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{originalElement:e,userID:d}),loader:b("JSResource")("ChatSidebarItemUserPlayingGameInfoContainer.react").__setRef("ChatSidebarNameWithGameInfo.react"),placeholder:a?e:b("React").createElement("div",null,c)})}e.exports=a}),null);
__d("ChatSidebarProfile.react",["cx","React","SplitImage.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){"use strict";var a=this.props;return b("React").createElement("div",{className:"_55lq"+(a.showingPresenceOnProfile?" _2be2":""),"aria-hidden":!0},b("React").createElement(b("SplitImage.react"),{size:a.imageSize,srcs:a.images,className:"_1gyw"}),a.isActive?b("React").createElement("div",{className:"_1gyx"}):null)};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("ChatSidebarStatus.react",["cssVar","cx","fbt","ix","AvailableListState","Image.react","React","asset","gkx"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k;k=babelHelpers.inherits(a,b("React").PureComponent);k&&k.prototype;a.prototype.render=function(){"use strict";var a=this.props,c=this.renderStatusIcon();if(c===null&&a.statusTime===null)return null;var d=!0,e=a.unreadCount;e!=null&&e>0&&(c=a.statusTime!=null?null:c,d=!1);a.showingPresenceOnProfile===!1&&a.isDoNotDisturb===!0&&a.isWorkUser&&b("gkx")("AT505jRFtG_7w3nhZICN2g5HZo5KZ4FP0G7n7x_oCDMvQmeZOfjSNcbXcUzDHS_pr0yjnx5p-38r7Z_8WJZNypI6")&&(d=!1);return b("React").createElement("div",{className:"_568z"+(a.showRelationshipIndicator?" _2oov":"")},d?this.renderLastActiveTime():null,c)};a.prototype.renderStatusIcon=function(){"use strict";__p&&__p();var a=this.props;if(a.isMessengerOnlyContact===!0)return b("React").createElement(b("Image.react"),{alt:i._("Usa Messenger sin Facebook"),className:"_568_",src:j("28076")});else{if(a.showingPresenceOnProfile===!1&&a.isDoNotDisturb===!0&&a.isWorkUser&&b("gkx")("AT505jRFtG_7w3nhZICN2g5HZo5KZ4FP0G7n7x_oCDMvQmeZOfjSNcbXcUzDHS_pr0yjnx5p-38r7Z_8WJZNypI6"))return b("React").createElement("span",{"aria-label":i._("Do Not Disturb"),className:"_3zdc"});if(a.status===b("AvailableListState").ACTIVE)if(a.showRelationshipIndicator===!0)return b("React").createElement(b("Image.react"),{src:j("593722"),alt:i._("hearts icon")});else if(a.showingPresenceOnProfile===!1)return b("React").createElement("span",{"aria-label":i._("Active Now"),style:{background:"#42b72a",borderRadius:"50%",display:"inline-block",height:"6px",marginLeft:"4px",veritcalAlign:"middle",width:"6px"}})}return null};a.prototype.renderLastActiveTime=function(){"use strict";return b("React").createElement("div",{className:"_568-"},this.props.statusTime)};function a(){"use strict";k.apply(this,arguments)}e.exports=a}),null);
__d("RenderOnClient.react",["React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return this.props.component};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("ChatSidebarItem.react",["cx","ix","AvailableListState","BootloaderGamesPresenceIconContainer.react","BootloadOnRender.react","ChatConfig","ChatSidebarConstants","ChatSidebarNameWithGameInfo.react","ChatSidebarProfile.react","ChatSidebarStatus.react","CurrentUser","ErrorBoundary.react","Image.react","JSResource","LazyComponent.react","React","RenderOnClient.react","SRLink.react","SRXUIBadge.react","TextWithEmoticons.react","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={hasHovered:!1,hover:!1},this.$2=function(){this.setState({hasHovered:!0,hover:!0}),this.props.onMouseEnter!=null&&this.props.onMouseEnter()}.bind(this),this.$3=function(){this.setState({hover:!1})}.bind(this),b}a.prototype.render=function(){var a="_55ln"+(this.props.context?" _55lo":"")+(b("ChatConfig").getBool("divebar_rounded_profile")?" _qhr":""),c=this.props.nameCanHaveEmoji===!0?b("React").createElement(b("RenderOnClient.react"),{component:b("React").createElement(b("TextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:this.props.name})}):this.props.name;return b("React").createElement(b("ErrorBoundary.react"),{fallbackComponent:this.$1},b("React").createElement(b("SRLink.react"),{className:a,href:this.props.href,onClick:this.props.onClick,onMouseEnter:this.$2,onMouseLeave:this.$3,rel:"ignore"},b("React").createElement("div",{className:"_55lp"},this.$4(),b("React").createElement("div",{className:"_5bon"},this.renderWaveButton(),this.renderPlayingGame(),this.renderBirthday(),this.renderUnreadCount(),this.renderStatus()),b("React").createElement("div",{className:"_55lr"},this.props.isPlayingGame===!0&&this.props.userID&&b("gkx")("AT6u73YzhSbtwfTvGI_dUkCDWV1VMa7c035xhh1qNzWWNDuWfna3ikNNGOjtL2adauohv1GFlwZ9RrqzMEpZG7gY")?this.$5():c),b("React").createElement("div",{className:"_55ls"},this.props.context))))};a.prototype.renderUnreadCount=function(){var a=this.props.unreadCount;return a==null||a===0?null:b("React").createElement(b("SRXUIBadge.react"),{count:a,maxcount:9})};a.prototype.renderStatus=function(){var a=b("ChatConfig").getBool("presence_on_profile");return b("React").createElement(b("ChatSidebarStatus.react"),{isMessengerOnlyContact:this.props.isMessengerOnlyContact,isDoNotDisturb:this.props.isDoNotDisturb,isWorkUser:b("CurrentUser").isWorkUser(),showingPresenceOnProfile:a,showRelationshipIndicator:this.props.showRelationshipIndicator,status:this.props.status,unreadCount:this.props.unreadCount,statusTime:this.props.statusTime})};a.prototype.renderWaveButton=function(){if(!this.props.showWave||!this.props.userID)return null;return!this.state.hasHovered&&b("gkx")("AT6dSUFvqaQ48TePPsqJaPxoR89sKDrmnkj9AwTUQGCUAO64e0__lqQVl0pZO8oX1VVITdmuH2Oh5NO1Ry2djFb0")?b("React").createElement("div",null):b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("WaveButton.react").__setRef("ChatSidebarItem.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{userID:this.props.userID,hover:this.state.hover})})};a.prototype.renderBirthday=function(){if(this.props.birthday!==!0)return null;if(b("CurrentUser").isWorkUser()&&!b("gkx")("AT6xZmI2OdSYphpl234QKktFXq5sRz0kw7_B2KSTTJG4l__HXq2R95tfCOGk3WHJAmEbSfznHtUDjqZLC1cYF7k9"))return null;var a="_5dv3",c=h("74517");return b("React").createElement(b("Image.react"),{className:a,src:c})};a.prototype.renderPlayingGame=function(){return this.props.statusTime!=null||this.props.birthday===!0||this.props.isPlayingGame!==!0?null:b("React").createElement(b("RenderOnClient.react"),{component:b("React").createElement(b("BootloaderGamesPresenceIconContainer.react"),{userID:this.props.userID})})};a.prototype.$1=function(){return b("React").createElement(b("SRLink.react"),{"aria-hidden":!0,tabIndex:-1})};a.prototype.$4=function(){var a=b("ChatConfig").getBool("presence_on_profile"),c=this.props.imageSize,d=this.props.image,e=this.props.images;c=c!=null?c:b("ChatSidebarConstants").getDefaultImageSize();var f=[];d!=null?f=[d]:e!=null&&(f=e);return b("React").createElement(b("ChatSidebarProfile.react"),{showingPresenceOnProfile:a,imageSize:c,isActive:a&&this.props.status===b("AvailableListState").ACTIVE,images:f})};a.prototype.$5=function(){return b("React").createElement(b("RenderOnClient.react"),{component:b("React").createElement(b("ChatSidebarNameWithGameInfo.react"),{name:this.props.name,nameCanHaveEmoji:this.props.nameCanHaveEmoji,userID:this.props.userID})})};e.exports=a}),null);
__d("MercuryParticipantListRenderer",["fbt","MercuryIDs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(){this.$6=function(a){var c=this.$5;if(c){var d=b("MercuryIDs").getUserIDFromParticipantID(a.id);if(d&&c[d])return c[d]}return this.$2?a.short_name:a.name}.bind(this),this.$1=!1,this.$2=!1,this.$3=!1,this.$4=0,this.$5=null}a.prototype.renderParticipantList=function(a){a=a.map(this.$6);switch(a.length){case 0:return h(this.$1);case 1:return i(a);case 2:return this.$3?k(a):j(a);case 3:return this.$3?m(a):l(a);default:return this.$3?o(a,this.$4):n(a,this.$4)}};a.prototype.setIsNewThread=function(a){this.$1=a;return this};a.prototype.setNameRenderer=function(a){this.$6=a;return this};a.prototype.setUseShortName=function(a){this.$2=a;return this};a.prototype.setNickname=function(a){this.$5=a;return this};a.prototype.setUseAndSeparator=function(a){this.$3=a;return this};a.prototype.setTotalParticipantCount=function(a){this.$4=a;return this};function h(a){if(a)return g._("Nuevo mensaje");else return g._("No hay participantes")}function i(a){return a[0]}function j(a){return g._("{participant1}, {participant2}",[g._param("participant1",a[0]),g._param("participant2",a[1])])}function k(a){return g._("{participant1} y {participant2}",[g._param("participant1",a[0]),g._param("participant2",a[1])])}function l(a){return g._("{participant1}, {participant2}, {participant3}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2])])}function m(a){return g._("{participant1}, {participant2} y {participant3}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2])])}function n(a,b){return g._("{participant1}, {participant2}, {participant3}, {others_link}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2]),g._param("others_link",p((b||a.length)-3))])}function o(a,b){return g._("{participant1}, {participant2} y {others_link}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("others_link",p((b||a.length)-2))])}function p(a){if(a>1)return g._({"*":"{others_count} personas m\u00e1s"},[g._param("others_count",a,[0])]);else return g._("una persona m\u00e1s")}e.exports=a}),null);
__d("ChatSidebarThread.react",["Bootloader","ChatSidebarItem.react","ChatSidebarParticipantTooltipBuilder","MercuryIDs","MercuryParticipantListRenderer","React","TooltipData","WebMessengerThreadPermalinks","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){var c=this.props,d=c.slot,e=c.slotOffset,f=c.threadFBID,g=c.totalSlots;f&&b("requireWeak")("FantaTabActions",function(a){a.openTab(b("MercuryIDs").getThreadIDFromThreadFBID(f),["divebar_groups"])});b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger","ChatOpenTabEventLogger"],function(a,b){new a().setSlotClicked(e+d).setSlotsVisibleBeforeScrolling(g).setRelativeSlotClicked(d).setSidebarSection("groups").log(),f&&b.logClickOpen(this.props.referrer,f)}.bind(this),"ChatSidebarThread.react");a.preventDefault()}.bind(this),c}a.prototype.render=function(){var a=this.props.name,c=h(this.props.threadFBID,this.props.participants,this.props.numOtherParticipants),d=a?c:undefined,e=this.props.image?[]:i(this.props.participants);a=a?a:c;return b("React").createElement("div",b("TooltipData").propsFor(this.$1()),b("React").createElement(b("ChatSidebarItem.react"),{context:d,href:this.props.threadFBID&&b("WebMessengerThreadPermalinks").getThreadURIFromServerID(this.props.threadFBID),imageSize:this.props.imageSize,image:this.props.image,images:e,name:a,nameCanHaveEmoji:!0,onClick:this.$2,referrer:this.props.referrer,status:this.props.status,unreadCount:this.props.unreadCount,showWave:!1,showRelationshipIndicator:!1}))};a.prototype.$1=function(){return b("ChatSidebarParticipantTooltipBuilder").buildParticipantsTooltip(this.props.participants,this.props.numOtherParticipants)};a.propTypes={image:c.string,imageSize:c.number,name:c.string,participants:c.array.isRequired,numOtherParticipants:c.number.isRequired,referrer:c.string,slot:c.number,slotOffset:c.number,status:c.number,threadFBID:c.string,totalSlots:c.number,unreadCount:c.number};a.defaultProps={numOtherParticipants:b("ChatSidebarParticipantTooltipBuilder").MAX_NUM_PARTICIPANTS_TO_RENDER};function h(a,c,d){return new(b("MercuryParticipantListRenderer"))().setIsNewThread(!a).setUseShortName(!0).setTotalParticipantCount(d).renderParticipantList(c).toString()}function i(a){return a.map(function(a){return a.image_src}).filter(function(a){return a})}e.exports=a}),null);
__d("ChatSidebarGroupThreadsGroup.react",["cx","ChatSidebarConstants","ChatSidebarSections","ChatSidebarThread.react","MercuryIDs","PresencePrivacy","PresenceStatus","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a,c){var d=a.mercury_thread.participants;d=d.map(function(a){return typeof a==="string"&&b("MercuryIDs").isValid(a)?b("MercuryIDs").getUserIDFromParticipantID(a):a});var e=this.props.isDisconnected||b("PresencePrivacy").isUserOffline();return b("React").createElement("li",{className:"_42fz"+(e?" _570-":""),"data-id":a.uid,key:a.uid},b("React").createElement(b("ChatSidebarThread.react"),{image:a.mercury_thread.image_src,imageSize:b("ChatSidebarConstants").getImageSize(),name:a.mercury_thread.name,participants:a.participants_to_render,numOtherParticipants:d.length-1,referrer:b("ChatSidebarSections").ORDERED_LIST,slot:c,slotOffset:this.props.slotOffset,status:b("PresenceStatus").getGroup(d),threadFBID:a.uid,totalSlots:this.props.totalSlots}))}.bind(this),c}a.prototype.render=function(){return b("React").createElement("ul",null,this.props.groups.map(this.$1))};a.propTypes={groups:c.array.isRequired,isDisconnected:c.bool,slotOffset:c.number,totalSlots:c.number};e.exports=a}),null);
__d("ChatSidebarHeader.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",{onClick:this.props.onClick,className:b("joinClasses")(this.props.className,"_55ob")},b("React").createElement("div",{className:"_55oc"},this.props.children))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("ChatSidebarItemPlaceholder.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=50+Math.ceil(50-2*(Math.pow(7+a.slot,2)%10));return b("React").createElement("li",{className:"_42fz"+(a.isDisconnected?" _570-":"")},b("React").createElement("div",{className:"_55ln"+(a.roundedProfile?" _qhr":"")},b("React").createElement("div",{className:"_55lp"},b("React").createElement("span",{className:"_1qh _55lq"}),b("React").createElement("span",{className:"_55lr"},b("React").createElement("span",{className:"_1qh",style:{width:String(c)+"px"}})))))}e.exports=a}),null);
__d("ChatSidebarUser.react",["Bootloader","ChatSidebarItem.react","MercuryIDs","React","WebMessengerThreadPermalinks","gkx","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.handleMouseEnter=function(){var a=this.props.userID;this.props.onMouseEnter&&this.props.onMouseEnter(a);b("gkx")("AT4T9LO8V3BIOVcGOYPKxxsCiNDzy0HHXFfwezwsUTXaZjtufQoUfjAr_b0uxP3zESohJEtycMUpu9xvYr512cum")&&this.props.showHoverCard===!0&&b("Bootloader").loadModules(["ChatSidebarHoverCardV2","ReactDOM"],function(b,c){return b.show(a,c.findDOMNode(this))}.bind(this),"ChatSidebarUser.react")}.bind(this),this.$1=function(a){var c=this.props,d=c.sectionName,e=c.slot,f=c.slotOffset,g=c.totalSlots,h=c.userID,i=b("MercuryIDs").getThreadIDFromUserID(h);b("requireWeak")("FantaTabActions",function(a){a.openTab(i,["divebar_"+d])});b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger","ChatOpenTabEventLogger"],function(a,b){new a().setSlotClicked(f+e).setSlotsVisibleBeforeScrolling(g).setRelativeSlotClicked(e).setSidebarSection(d).log(),b.logUserClickOpen(d,h,{global_slot:e})},"ChatSidebarUser.react");a.preventDefault()}.bind(this),c}a.prototype.render=function(){"use strict";var a=b("WebMessengerThreadPermalinks").getThreadURIFromUserID(this.props.userID);return b("React").createElement(b("ChatSidebarItem.react"),{onClick:this.$1,onMouseEnter:this.handleMouseEnter,href:a,imageSize:this.props.imageSize,image:this.props.image,isDoNotDisturb:this.props.isDoNotDisturb,isPlayingGame:this.props.isPlayingGame,name:this.props.name,nameCanHaveEmoji:!1,showRelationshipIndicator:this.props.showRelationshipIndicator,status:this.props.status,birthday:this.props.birthday,statusTime:this.props.statusTime,context:this.props.context,unreadCount:this.props.unreadCount,isMessengerOnlyContact:this.props.isMessengerOnlyContact,userID:this.props.userID,showWave:this.props.showWave})};e.exports=a}),null);
__d("ChatSidebarUserGroupProfile.react",["cx","AvailableListConstants","ChatConfig","ChatSidebarItemPlaceholder.react","ChatSidebarSections","ChatSidebarUser.react","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ChatConfig").get("divebar_rounded_profile",!1);function a(a){var c=a.slot,d=a.profileData;if(d==null)return b("React").createElement(b("ChatSidebarItemPlaceholder.react"),{isDisconnected:a.isDisconnected,key:"placeholder"+c,roundedProfile:h,slot:c});var e=d.shortProfile;if(!e.id)return null;var f=d.status,g=f!==b("AvailableListConstants").ACTIVE?d.lastActiveTime:null,i=a.isDisconnected||!d.presencePrivacyAllows,j=a.sectionName===b("ChatSidebarSections").NEARBY?e.location:null,k=b("gkx")("AT5N7c3vp2KZeBLcdLGCkrCGhNAJHtjW4P7Xmlq4tK83K879cfHJ4CNLjdjOGJAQApRspNV8z5qOFgj3xZqsPbN0");return b("React").createElement("li",{className:"_42fz"+(i?" _570-":""),"data-id":e.id,key:e.id},b("React").createElement(b("ChatSidebarUser.react"),{birthday:e.is_birthday,image:e.thumbSrc,imageSize:a.imageSize,isDoNotDisturb:!!a.doNotDisturbMap[e.id],isPlayingGame:!!d.isPlaying,name:e.name,onMouseEnter:a.onMouseEnter,showHoverCard:a.showHoverCard,showRelationshipIndicator:e.show_relationship_indicator,sectionName:a.sectionName,slot:c,slotOffset:a.slotOffset,status:f,statusTime:g,totalSlots:a.totalSlots,userID:e.id,unreadCount:d.unreadCount,isMessengerOnlyContact:e.is_messenger_only,context:j,showWave:k}))}e.exports=a}),null);
__d("ChatSidebarUserGroupContainer.react",["ChatSidebarSections","ChatSidebarUserGroupProfile.react","CurrentUser","React","WorkChatAvailabilityStatusLoader","clearTimeout","emptyFunction","gkx","onAfterLoadSafe","promiseDone","requireWeak","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=400,i=5e3;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.$1=null,this.$2={},this.state={doNotDisturbMap:{}},this.$6=function(){this.$3||(this.$3=b("setTimeoutAcrossTransitions")(function(){b("requireWeak")("FantaTabsEagerBootloader",function(a){return a.bootload()}),this.$6=b("emptyFunction")}.bind(this),h))}.bind(this),this.$7=function(){b("clearTimeout")(this.$3),this.$3=null}.bind(this),this.$4()}a.prototype.componentDidMount=function(){b("onAfterLoadSafe")(function(){b("gkx")("AT505jRFtG_7w3nhZICN2g5HZo5KZ4FP0G7n7x_oCDMvQmeZOfjSNcbXcUzDHS_pr0yjnx5p-38r7Z_8WJZNypI6")&&b("CurrentUser").isWorkUser()&&b("promiseDone")(b("WorkChatAvailabilityStatusLoader").load(),function(a){var b=a.store,c=a.actions;this.props.ids.forEach(function(a){c.subscribeUser(a,this)}.bind(this));this.setState({doNotDisturbMap:this.$5(this.props.ids)});b.fetchUsers(this.props.ids);this.$1=b.addListener(function(){this.setState({doNotDisturbMap:this.$5(this.props.ids)})}.bind(this))}.bind(this))}.bind(this))};a.prototype.componentDidUpdate=function(){this.$4()};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.remove()};a.prototype.UNSAFE_componentDidReceiveProps=function(a){if(b("gkx")("AT505jRFtG_7w3nhZICN2g5HZo5KZ4FP0G7n7x_oCDMvQmeZOfjSNcbXcUzDHS_pr0yjnx5p-38r7Z_8WJZNypI6")&&b("WorkChatAvailabilityStatusLoader").isLoaded()){var c=b("WorkChatAvailabilityStatusLoader").getActionsEnforce();b("WorkChatAvailabilityStatusLoader").getStoreEnforce().fetchUsers(a.ids.filter(function(a){return this.props.ids.indexOf(a)<0}.bind(this)));this.props.ids.forEach(function(a){return c.unsubscribeUser(a,this)}.bind(this));a.ids.forEach(function(a){return c.subscribeUser(a,this)}.bind(this))}};a.prototype.render=function(){var a=this.props.ids.filter(function(a){return this.props.usersDetailedData[a]||!this.$2[a]}.bind(this));return b("React").createElement("ul",{onMouseEnter:this.$6,onMouseLeave:this.$7},a.map(function(a,c){return b("React").createElement(b("ChatSidebarUserGroupProfile.react"),{doNotDisturbMap:this.state.doNotDisturbMap,imageSize:this.props.imageSize,isDisconnected:this.props.isDisconnected,onMouseEnter:this.props.onMouseEnterItem,showHoverCard:this.props.showHoverCard,sectionName:this.props.sectionName,slotOffset:this.props.slotOffset,totalSlots:this.props.totalSlots,profileData:this.props.usersDetailedData[a],id:a,key:a,slot:c})}.bind(this)))};a.prototype.$5=function(a){if(!b("gkx")("AT505jRFtG_7w3nhZICN2g5HZo5KZ4FP0G7n7x_oCDMvQmeZOfjSNcbXcUzDHS_pr0yjnx5p-38r7Z_8WJZNypI6")||!b("CurrentUser").isWorkUser()||!b("WorkChatAvailabilityStatusLoader").isLoaded())return{};var c=b("WorkChatAvailabilityStatusLoader").getStoreEnforce(),d={};a.forEach(function(a){d[a]=c.getIsDoNotDisturb(a)});return d};a.prototype.$4=function(){this.props.ids.forEach(function(a){var b=this.props.usersDetailedData[a];b?this.$8(a):this.$9(a)}.bind(this))};a.prototype.$9=function(a){this.$2[a]===undefined&&(this.$2[a]=b("setTimeoutAcrossTransitions")(function(){delete this.$2[a],this.forceUpdate()}.bind(this),i))};a.prototype.$8=function(a){var c=this.$2[a];if(!c)return;b("clearTimeout")(c);delete this.$2[a]};e.exports=a}),null);
__d("ChatSidebarOrderedList.react",["ix","cx","fbt","Bootloader","BootloadOnRender.react","ChatConfig","ChatOptions","ChatQuietLinks","ChatReliabilityInstrumentation","ChatSidebarActions","ChatSidebarConstants","ChatSidebarCreateNewGroupItem.react","ChatSidebarGroupThreadsGroup.react","ChatSidebarHeader.react","ChatSidebarSections","ChatSidebarUserGroupContainer.react","Image.react","JSResource","LazyComponent.react","LeftRight.react","Link.react","MessengerWebDriverTestIDs","React","ReactDOM","Run","Scroll","XPagesBrowserController","fbglyph","gkx","ifRequired"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=3;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={isDisconnected:!1},this.$1=null,this.$2=null,this.$3=null,this.$4=null,b}a.prototype.componentDidMount=function(){b("ChatQuietLinks").nukeLinks(b("ReactDOM").findDOMNode(this.refs.noLinks)),b("Run").onAfterLoad(function(){b("ChatSidebarActions").afterDomLoad(),this.$5()}.bind(this))};a.prototype.componentWillUnmount=function(){this.$1!=null&&this.$1.unsubscribe()};a.prototype.render=function(){if(this.props.hide)return null;var a=this.props.offlineUsers&&this.props.offlineUsers.length>0?this.$6():this.$7();a=b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{ref:"noLinks"},this.$8(),this.$9()),this.$10(),b("React").createElement("div",{ref:"noLinks"},this.$11(),this.$12(),a));return b("React").createElement("div",{"data-testid":b("MessengerWebDriverTestIDs").CHAT_SIDEBAR},b("React").createElement("div",{ref:"noLinks"},this.$13()),b("React").createElement("div",{ref:"noLinks"},this.$14()),!this.$15()&&a,this.$16())};a.prototype.$17=function(a){var c=this.props.scrollContainer;if(!c)return;var d=c.clientHeight,e=c.scrollHeight,f=b("Scroll").getTop(c),g=Math.min(a.offsetTop,e-d);f!==g&&b("ifRequired")("Animation",function(a){var b=Math.abs(g-f)/c.clientHeight*500;new a(c).to("scrollTop",g).ease(a.ease.end).duration(b).go()},function(){b("Scroll").setTop(c,g)})};a.prototype.$8=function(){if(!b("ChatConfig").getBool("show_header"))return null;var a=this.state.isDisconnected||this.props.isUserOffline;return b("React").createElement(b("ChatSidebarHeader.react"),{className:a?"_570-":""},i._("CONTACTOS"))};a.prototype.$6=function(){var a=b("ChatSidebarConstants").getImageSize(),c=this.props.offlineUsers.slice(0,-2),d=i._("M\u00c1S CONTACTOS"),e=i._("Estos contactos no pueden verte en el chat.");return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("ChatSidebarHeader.react"),null,d),b("React").createElement(b("ChatSidebarHeader.react"),{className:"_5j9-"},e," ",b("React").createElement("a",{ajaxify:"/ajax/chat/privacy/settings_dialog.php?ref=whitelist_separator",href:"#",rel:"dialog"},i._("Editar"))),b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:c,imageSize:a,isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,onMouseEnterItem:this.props.onMouseEnterItem,sectionName:b("ChatSidebarSections").OFFLINE_USERS,showHoverCard:this.props.isSidebar,slotOffset:this.$18(),totalSlots:this.props.maxItemSlots,usersDetailedData:this.props.usersDetailedData}))};a.prototype.$7=function(){__p&&__p();if(this.props.availableUsers.length===0)return null;if(!this.props.isAfterDomLoad){var a=b("ChatSidebarConstants").getItemHeight();return b("React").createElement("div",{style:{height:a*this.props.availableUsers.length}})}a=b("ChatSidebarConstants").getImageSize();var c=i._("{MORE ONLINE CONTACTS} ({count})",[i._param("MORE ONLINE CONTACTS",i._("M\u00c1S CONTACTOS")),i._param("count",this.props.availableUsers.length)]);return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("ChatSidebarHeader.react"),{ref:function(a){this.$4=a}.bind(this),onClick:function(){return this.$17(b("ReactDOM").findDOMNode(this.$4))}.bind(this)},c),b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:this.props.availableUsers,imageSize:a,isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,onMouseEnterItem:this.props.onMouseEnterItem,sectionName:b("ChatSidebarSections").MORE_ONLINE_FRIENDS,showHoverCard:this.props.isSidebar,slotOffset:this.$18(),totalSlots:this.props.maxItemSlots,usersDetailedData:this.props.usersDetailedData}))};a.prototype.$18=function(){var a=this.$19();a+=this.$20();var b=this.props.groups;a+=this.$21(b.length);return a};a.prototype.$10=function(){return!b("ChatConfig").getBool("nearby_friends_www_chatbar")||this.props.nearby.length===0?null:b("React").createElement(b("ChatSidebarHeader.react"),{ref:"nearbySeparator"},b("React").createElement(b("LeftRight.react"),null,i._("CERCA"),b("React").createElement(b("Link.react"),{target:"_blank",href:"/help/android-app/291236034364603"},b("React").createElement(b("Image.react"),{className:"_3-90",src:g("129548")}))))};a.prototype.$11=function(){if(!b("ChatConfig").getBool("nearby_friends_www_chatbar")||this.props.nearby.length===0)return null;var a=this.$19(),c=b("ChatSidebarConstants").getImageSize();return b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:this.props.nearby,imageSize:c,isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,onMouseEnterItem:this.props.onMouseEnterItem,sectionName:b("ChatSidebarSections").NEARBY,showHoverCard:this.props.isSidebar,slotOffset:a,totalSlots:this.props.maxItemSlots,usersDetailedData:this.props.usersDetailedData})};a.prototype.$20=function(){return this.props.nearby.length};a.prototype.$12=function(){var a=this.state.isDisconnected||this.props.isUserOffline,c=this.props.groups,d=this.$19()+this.$20();if(this.$22())return b("React").createElement(b("React").Fragment,null,this.$23(),b("React").createElement("ul",null,b("React").createElement("li",{className:"_42fz"+(a?" _570-":"")},b("React").createElement(b("ChatSidebarCreateNewGroupItem.react"),{slot:0,slotOffset:d,totalSlots:this.props.maxItemSlots}))));else if(b("ChatOptions").getSetting("hide_groups")||this.props.groups.length===0)return null;return b("React").createElement(b("React").Fragment,null,this.$23(),b("React").createElement(b("ChatSidebarGroupThreadsGroup.react"),{groups:c.slice(0,this.$21(c.length)),isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,slotOffset:d,totalSlots:this.props.maxItemSlots}))};a.prototype.$23=function(){var a=this.state.isDisconnected||this.props.isUserOffline;return b("React").createElement(b("ChatSidebarHeader.react"),{ref:function(a){this.$2=a}.bind(this),className:a?"_570-":"",onClick:function(){return this.$17(b("ReactDOM").findDOMNode(this.$2))}.bind(this)},i._("CONVERSACIONES EN GRUPO"))};a.prototype.$21=function(a){if(this.$22())return 1;else if(a===0)return 0;return b("gkx")("AT5XEYH1ZrReYerzhKj5_PytaAcJxBVvUm8BnU1UXvJkWL3CRwm9HpjP4d4QdvCcJzEps4hn0e9aiGI9CC7UmRMvSwDP5zZ1DHe3XtDkTFXDIg")?Math.min(a,b("ChatConfig").getNumber("num_groups_to_show")):a};a.prototype.$9=function(){var a=b("ChatSidebarConstants").getImageSize();return b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:this.props.topUsers,imageSize:a,isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,onMouseEnterItem:this.props.onMouseEnterItem,sectionName:b("ChatSidebarSections").ORDERED_LIST,showHoverCard:this.props.isSidebar,slotOffset:0,totalSlots:this.props.maxItemSlots,usersDetailedData:this.props.usersDetailedData})};a.prototype.$19=function(){return this.props.topUsers.length};a.prototype.$24=function(){return this.props.availableUsers.length===0&&this.props.topUsers.length===0&&this.props.groups.length===0};a.prototype.$14=function(){if(!this.props.pymmList)return null;var a=this.props.pymmList.pages;return!this.props.isSidebar||!b("ChatConfig").getBool("show_businesses")||!a||a.length===0?null:b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("ChatSidebarPymmListContainer.react").__setRef("ChatSidebarOrderedList.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{pymmList:a})})};a.prototype.$13=function(){if(b("gkx")("AT4Aq9ewKIFTl67cxoDAodIE6NOyKQZWxOTK7vUN4WSVpVwOKKYWwQCOkB7MMU0feig4qnlFrIZeyqu4hV61bOjlQn8Q2DP89kXsLrKS2wNNWQ")||!b("ChatConfig").getBool("show_admined_pages")||this.props.adminedPages.length===0||!this.props.pageListModule)return null;var a=null;if(this.props.adminedPages.length>=k){var c=b("XPagesBrowserController").getURIBuilder().setString("category","your_pages").setString("ref",this.props.adminedPages[0].ref).getURI();a=b("React").createElement(b("Link.react"),{className:"_2l56",href:c,target:"_blank"},i._("VER TODAS"))}c=this.props.pageListModule;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("ChatSidebarHeader.react"),{className:"_4kqp"},b("React").createElement(b("LeftRight.react"),null,i._("TUS P\u00c1GINAS"),a)),b("React").createElement(c,{adminedPages:this.props.adminedPages,onMouseEnter:this.props.onMouseEnterItem}))};a.prototype.$5=function(){b("Bootloader").loadModules(["ChannelConnection"],function(a){this.$1=a.subscribe([a.CONNECTED,a.RECONNECTING,a.SHUTDOWN,a.MUTE_WARNING,a.UNMUTE_WARNING],function(){var c=a.disconnected();c!==this.state.isDisconnected&&(c?b("ChatReliabilityInstrumentation").logCHANNEL_DISCONNECT():b("ChatReliabilityInstrumentation").logCHANNEL_CONNECT(),this.setState({isDisconnected:c}))}.bind(this))}.bind(this),"ChatSidebarOrderedList.react")};a.prototype.$22=function(){return this.props.groups.length===0&&b("gkx")("AT5TWxfoyJTuU3Tr-O8sY_Gkxvimm2rPLn9ZsAsusyJiAYq-zLKg2_7_eMccMJTI9qOx7gwISC6rrsGtqpWk_uDLins6TCNHhi73ZUmc4ebtyg")&&!b("ChatOptions").getSetting("hide_groups")};a.prototype.$15=function(){return b("gkx")("AT4aq0gj3KFvuyn5ouzkcinNuxrDXZY6HPjnRXCVXzOigsSLEws96b2T0YYtUZg_IxPxKREPJvW4RS6GeFXjfiRr")&&!this.props.isSidebar&&this.props.isUserOffline===!0};a.prototype.$16=function(){return!this.$15()?null:b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),null),loader:b("JSResource")("ChatOfflineOverlay.react").__setRef("ChatSidebarOrderedList.react"),placeholder:b("React").createElement("div",null)})};e.exports=a}),null);
__d("ChatSidebarPageListContainer.react",["cx","ChatSidebarAdminedPage.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.adminedPages.length;return b("React").createElement("ul",{className:"_4kqp"},a.adminedPages.map(function(d,e){return b("React").createElement(b("ChatSidebarAdminedPage.react"),{key:d.id,page:d,slot:e,slotOffset:0,totalSlots:c,onMouseEnter:a.onMouseEnter})}))}e.exports=a}),null);
__d("ChatSidebarPageListContainerWrapper.react",["cx","fbt","Arbiter","ChatOptions","ChatSidebarHeader.react","ChatSidebarPageListContainer.react","ChatSidebarSections","React","SRLink.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={hideAdminedPages:this.props.hideAdminedPagesInitial},b}a.prototype.componentDidMount=function(){b("Arbiter").subscribe("chat/option-changed",function(a,c){a=c.name;a==="hide_admined_pages"&&this.setState({hideAdminedPages:b("ChatOptions").getSetting("hide_admined_pages")})}.bind(this))};a.prototype.render=function(){var a=3;if(this.props.adminedPages.length===0||this.state.hideAdminedPages)return null;var c=null;this.props.adminedPages.length>=a&&(c=b("React").createElement(b("SRLink.react"),{className:"_2l56",target:"_blank",href:this.props.yourPagesURI},h._("VER TODAS")));return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("ChatSidebarHeader.react"),{className:"_4kqp",key:b("ChatSidebarSections").ADMINED_PAGES},b("React").createElement("div",{className:"_ohe lfloat"},h._("TUS P\u00c1GINAS")),b("React").createElement("div",{className:"_ohf rfloat"},c)),b("React").createElement(b("ChatSidebarPageListContainer.react"),{adminedPages:this.props.adminedPages,key:"pages_section"}))};e.exports=a}),null);
__d("ChatSidebarUserDetailsFactory",["AvailableListConstants","ChatUnreadCountStore","LastActiveTimes","PresencePrivacy","PresenceStatusStore","ShortProfilesStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getUsersDetailedData:function(a,c){var d={},e=[];a.forEach(function(a){if(!Object.prototype.hasOwnProperty.call(d,a)){var b=g._getDetailsForUserId(a,c);d[a]=b;b||e.push(a)}});e.length>0&&b("ShortProfilesStore").getMulti(e);return d},_getDetailsForUserId:function(a,c){var d=b("ShortProfilesStore").getNow(a);if(d){var e=b("PresenceStatusStore").get(a);return{shortProfile:d,presencePrivacyAllows:b("PresencePrivacy").allows(a),lastActiveTime:b("LastActiveTimes").getShortDisplay(a),unreadCount:b("ChatUnreadCountStore").get(a),isPlaying:c?b("PresenceStatusStore").getIsPlaying(a):!1,status:e===b("AvailableListConstants").ACTIVE?e:null}}return null}};e.exports=g}),null);
__d("FluxDerivedStore",["FluxStore","immutable","UserTimingUtils","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.$FluxDerivedStore1=b("immutable").Map(),this.$FluxDerivedStore3=this.__getStores(),this.$FluxDerivedStore4=this.$FluxDerivedStore3.map(function(a){return a.getDispatchToken()}),this.$FluxDerivedStore2=new Map()}a.prototype.__onDispatch=function(a){if(!this.$FluxDerivedStore4)return;this.getDispatcher().waitFor(this.$FluxDerivedStore4);this.$FluxDerivedStore3.some(function(a){return a.hasChanged()})&&(this.$FluxDerivedStore2.clear(),this.__emitChange())};a.prototype.__getStores=function(){return b("abstractMethod")(this.constructor.name,"__getStores")};a.prototype.__getData=function(a,c){return b("abstractMethod")(this.constructor.name,"__getData")};a.prototype.__getCachedData=function(a,c){return b("abstractMethod")(this.constructor.name,"__getCachedData")};a.prototype.__computeResult=function(a,c,d){return b("abstractMethod")(this.constructor.name,"__computeResult")};a.prototype.__areEqual=function(a,b){return a===b};a.prototype.__updateOne=function(a,b,c,d){if(!d||!this.__areEqual(d,c)){d=this.__computeResult(b,c,this.$FluxDerivedStore1.getIn([b,"result"],null));a.setIn([b,"data"],c);a.setIn([b,"result"],d)}};a.prototype.__updateAll=function(a,b,c,d){__p&&__p();for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;this.__updateOne(a,g,c.get(g),d.get(g))}};a.prototype.get=function(a){if(this.$FluxDerivedStore2.get(a))return this.$FluxDerivedStore1.getIn([a,"result"]);var b=this.$FluxDerivedStore1.getIn([a,"data"]),c=this.__getData(a,b);this.$FluxDerivedStore1=this.$FluxDerivedStore1.withMutations(function(d){return this.__updateOne(d,a,c,b)}.bind(this));this.$FluxDerivedStore2.set(a,!0);return this.$FluxDerivedStore1.getIn([a,"result"])};a.prototype.getCached=function(a){if(this.$FluxDerivedStore2.get(a))return this.$FluxDerivedStore1.getIn([a,"result"]);var b=this.$FluxDerivedStore1.getIn([a,"data"]),c=this.__getCachedData(a,b);this.$FluxDerivedStore1=this.$FluxDerivedStore1.withMutations(function(d){return this.__updateOne(d,a,c,b)}.bind(this));return this.$FluxDerivedStore1.getIn([a,"result"])};a.prototype.getAll=function(a,c){__p&&__p();var d=new Set(a),e=c||this.$FluxDerivedStore5||b("immutable").Map();c=e.withMutations(function(b){__p&&__p();e.forEach(function(a,c){d.has(c)||b["delete"](c)});if(this.__getDataAll){var c=this.$FluxDerivedStore1.filter(function(a,b){return d.has(b)}).map(function(a){return a.get("data")}),f=this.__getDataAll(d,c);this.$FluxDerivedStore1=this.$FluxDerivedStore1.withMutations(function(b){return this.__updateAll(b,a,f,c)}.bind(this));d.forEach(function(a){b.set(a,this.$FluxDerivedStore1.getIn([a,"result"]))}.bind(this))}else d.forEach(function(a){b.set(a,this.get(a))}.bind(this))}.bind(this));this.$FluxDerivedStore5=c;return c};a.prototype.getAllCached=function(a,c){__p&&__p();var d=new Set(a),e=c||this.$FluxDerivedStore5||b("immutable").Map();a=e.withMutations(function(a){__p&&__p();for(var b=e.keys(),c=Array.isArray(b),f=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(c){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;d.has(g)||a["delete"](g)}this.$FluxDerivedStore1=this.$FluxDerivedStore1.withMutations(function(b){__p&&__p();for(var c=d,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;var h=b.getIn([g,"data"]),i=this.__getCachedData(g,h);this.__updateOne(b,g,i,h);a.set(g,b.getIn([g,"result"]))}}.bind(this))}.bind(this));this.$FluxDerivedStore5=a;return a};a.prototype.clearCacheForTestsOnly=function(){this.$FluxDerivedStore2.clear()};a.prototype.getDependencyStores=function(){return this.$FluxDerivedStore3};a.__moduleID=e.id;e.exports=a}),null);
__d("ChatSidebarDerivedStore",["ChatDispatcher","ChatSidebarPresencePrivacyActions","ChatSidebarPresencePrivacyStore","ChatSidebarStore","ChatSidebarUserDetailsFactory","ChatUnreadCountStore","FluxDerivedStore","PresencePrivacy","PresenceStatusStore","ShortProfilesStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxDerivedStore"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.$ChatSidebarDerivedStore1()}a.prototype.$ChatSidebarDerivedStore1=function(){b("PresencePrivacy").subscribe("privacy-user-presence-changed",function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarPresencePrivacyActions").USER_PRESENCE_CHANGED})}),b("PresencePrivacy").subscribe("privacy-changed",function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarPresencePrivacyActions").PRIVACY_CHANGED})}),b("PresencePrivacy").subscribe("privacy-availability-changed",function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarPresencePrivacyActions").PRIVACY_CHANGED})}),b("PresencePrivacy").subscribe("privacy-user-presence-response",function(){b("ChatDispatcher").dispatch({type:b("ChatSidebarPresencePrivacyActions").USER_PRESENCE_CHANGED})})};a.prototype.__getStores=function(){return[b("ChatSidebarPresencePrivacyStore"),b("ChatSidebarStore"),b("ChatUnreadCountStore"),b("PresenceStatusStore"),b("ShortProfilesStore")]};a.prototype.__getData=function(a){var c=b("ChatSidebarStore").getExtraData(a),d=b("ChatSidebarStore").getUsersData(c.numTopFriends),e=b("ChatSidebarStore").getState(),f=d.availableUsers,g=d.offlineUsers,h=d.topUsers,i=d.workOthers,j=c.nearby,k=e.isAfterDomLoad;return babelHelpers["extends"]({},e,c,d,{maxItemSlots:a,presencePrivacy:b("ChatSidebarPresencePrivacyStore").getState(),usersDetailedData:b("ChatSidebarUserDetailsFactory").getUsersDetailedData([].concat(f,j,g,h,i),k)})};a.prototype.__computeResult=function(a,c){a=c.presencePrivacy.currentUser;return babelHelpers["extends"]({},c,{isUserOffline:a===b("PresencePrivacy").OFFLINE})};a.prototype.getVisibleType=function(){return b("ChatSidebarStore").getVisibleType()};a.__moduleID=e.id;e.exports=new a(b("ChatDispatcher"))}),null);
__d("BaseChatSidebar.react",["Arbiter","AsyncRequest","Bootloader","ChatConfig","ChatDispatcher","ChatSidebarActions","ChatSidebarCachedViewport","ChatSidebarConstants","ChatSidebarDerivedStore","ChatSidebarVisibility","CSS","DOM","Event","LitestandClassicPlaceHolders","MessengerDivebarSizingTypedLogger","PresencePrivacy","PresenceUtil","React","SidebarAppsInitialVisibility","SidebarType","Style","ViewportBounds","WWWSiteOrganizationGating","debounceAcrossTransitions","emptyFunction","gkx","ifRequired","onAfterDisplay","onAfterLoadSafe","queryThenMutateDOM","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("WWWSiteOrganizationGating").largerBlueBar?49:44,i=b("ChatSidebarConstants").getItemHeight(),j=8,k="sidebarMode",l=b("ChatConfig").get("expanded_divebar_width"),m=171,n=30,o=300,p=b("ChatSidebarCachedViewport").viewport;function q(a){new(b("AsyncRequest"))("/ajax/chat/settings.php").setHandler(b("emptyFunction")).setErrorHandler(b("emptyFunction")).setData({sidebar_mode:a,window_id:b("PresenceUtil").getSessionID()}).setAllowCrossPageTransition(!0).send()}a=babelHelpers.inherits(r,b("React").Component);g=a&&a.prototype;function r(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$2=!1,this.$3=!0,this.$4=b("emptyFunction"),this.$5=b("emptyFunction"),this.state={computedState:this.props.initialState||b("ChatSidebarDerivedStore").get(r.calculateMaxItemSlots(this.props.heightOffset)),show:!0},this.handleDerivedStoreChange=function(){var a=b("ChatSidebarDerivedStore").get(r.calculateMaxItemSlots(this.props.heightOffset));a!==this.state.computedState&&this.setState({computedState:a})}.bind(this),this.handleMouserOut=function(){this.$2=!1,this.$3&&(this.$3=!1,this.$4())}.bind(this),this.handleMouserOver=function(){this.$2=!0}.bind(this),this.handleMouseEnterItem=function(a){b("Bootloader").loadModules(["ChatSidebarHoverCardV2"],function(b){var c=this.state.computedState,d=c.adminedPages.map(function(a){return a.id+""}).filter(Boolean);b.prefetchHoverCardData(a,c.availableUsers.concat(d,c.nearby,c.topUsers,c.workOthers))}.bind(this),"BaseChatSidebar.react")}.bind(this),this.resize=function(a,c){var d,e;b("queryThenMutateDOM")(function(){c&&c(),e=p||{},(!a||a.height!==e.height)&&(d=r.getBodyHeight(this.props.heightOffset))}.bind(this),function(){(!a||a.width!==e.width)&&b("ChatSidebarVisibility").shouldShowSidebar(p,function(a,c){b("ChatSidebarActions").show(a?b("SidebarType").SIDEBAR:b("SidebarType").BUDDYLIST)}),this.adjustToFitHeightFromParams(d)}.bind(this))}.bind(this),this.updateOnActiveTypeahead=function(a,b){this.setState({show:!b})}.bind(this),this.update=function(a){if(!this.shouldSidebarUpdate())return;a?this.handleSizeUpdate():this.handleUsersUpdate()}.bind(this),c}r.calculateMaxItemSlots=function(a){return Math.floor((r.getBodyHeight(a)-j)/i)};r.getBodyHeight=function(a){var c=p||b("ChatSidebarVisibility").getViewport(),d=c.height;d-=h;d-=n;d-=a;b("ifRequired")("AppsDivebarDisplayController",function(a){a.isVisible()&&(d-=m)},function(){b("SidebarAppsInitialVisibility").visible&&(d-=m)});return Math.max(0,d)};r.prototype.componentDidMount=function(){__p&&__p();this.$4=b("debounceAcrossTransitions")(this.update,o,this);this.$5=b("debounceAcrossTransitions")(this.handleDerivedStoreChange,o,this);this.setupStore();this.setupSearchHandler();this.setupSettingHandler();b("Event").listen(window,"resize",function(){var a=babelHelpers["extends"]({},p)||{};this.resizeAndUpdateViewport(a)}.bind(this));b("PresencePrivacy").subscribe("privacy-user-presence-changed",this.resize);this.$1=b("DOM").find(this.props.root,"div.fbChatSidebarBody");var a=r.getBodyHeight(this.props.heightOffset);b("Style").set(this.$1,"height",a+"px");b("onAfterLoadSafe")(function(){var a=this.state.computedState.visible===b("SidebarType").SIDEBAR;this.resizeAndUpdateViewport();b("onAfterLoadSafe")(function(){a!==(this.state.computedState.visible===b("SidebarType").SIDEBAR)&&b("Bootloader").loadModules(["ChatReliabilityInstrumentation"],function(a){a.logERROR("sidebar flashed")},"BaseChatSidebar.react")}.bind(this));b("Bootloader").loadModules(["AvailableList","AvailableListConstants"],function(a,b){a.subscribe(b.ON_AVAILABILITY_CHANGED,function(){return this.$4()}.bind(this))}.bind(this),"BaseChatSidebar.react")}.bind(this));b("ViewportBounds").addPersistentRight(l);b("Arbiter").inform("sidebar/initialized");this.props.initialState||b("ChatSidebarActions").init()};r.prototype.componentDidUpdate=function(a,b){b.computedState.visible!==this.state.computedState.visible&&this.handleVisibilityChange(this.state.computedState.visible);a=this.state.computedState.presencePrivacy.currentUser!==b.computedState.presencePrivacy.currentUser;this.state.computedState.enabled!==b.computedState.enabled&&q(this.state.computedState.enabled);a&&this.handleSizeUpdate()};r.prototype.setupStore=function(){b("ChatSidebarDerivedStore").getDependencyStores().forEach(function(a){b("ChatDispatcher").explicitlyRegisterStore(a)}),this.props.onRegisterStore&&this.props.onRegisterStore(function(){return this.adjustToFitHeight()}.bind(this)),b("ChatSidebarActions").loaded(),b("ChatSidebarDerivedStore").addListener(this.$5)};r.prototype.setupSettingHandler=function(){b("Arbiter").subscribe("chat/option-changed",function(a,b){a=b.name;(a==="hide_groups"||a==="hide_admined_pages"||a==="hide_businesses")&&this.adjustToFitHeight()}.bind(this)),b("Arbiter").subscribe(["AppsDivebar/show-apps","AppsDivebar/hide-apps","PagesDivebar/show-pages","PagesDivebar/hide-pages"],function(){return this.adjustToFitHeight()}.bind(this))};r.prototype.setupSearchHandler=function(){b("Arbiter").subscribe("sidebar/typeahead/active",this.updateOnActiveTypeahead),b("gkx")("AT6ZCntuwGBL1LBDjniJnuZTki0EgqKZ16N0_aKYu1tUnleN5fWyObM-HMcM9_e2aftsyQ6i7hVPvvzxMu5Zazav")?b("onAfterDisplay")(this.bootloadKeyboardShortcuts.bind(this)):this.bootloadKeyboardShortcuts()};r.prototype.bootloadKeyboardShortcuts=function(){var a=this.props.root;b("Bootloader").loadModules(["KeyboardShortcuts"],function(c){c.register("q",function(event){if(this.$6()!==b("SidebarType").SIDEBAR)return;b("requireWeak")("ChatTypeaheadCore",function(b){b.focusSearchField(a,event)})}.bind(this),{persistOnTransition:!0})}.bind(this),"BaseChatSidebar.react")};r.prototype.render=function(){var a=this.state.computedState;return!a.enabled?null:b("React").createElement("div",{onMouseOver:this.handleMouserOver,onMouseOut:this.handleMouserOut},this.props.children({computedState:a,hide:!this.state.show,onMouseEnterItem:this.handleMouseEnterItem}))};r.prototype.handleVisibilityChange=function(a){switch(a){case b("SidebarType").SIDEBAR:this.show();break;case b("SidebarType").BUDDYLIST:this.hide();break}};r.prototype.adjustToFitHeight=function(){var a;b("queryThenMutateDOM")(function(){a=r.getBodyHeight(this.props.heightOffset)}.bind(this),function(){return this.adjustToFitHeightFromParams(a)}.bind(this))};r.prototype.adjustToFitHeightFromParams=function(a){if(!a)return;var c=Math.floor(a-j);this.$4(!0);this.$1&&b("Style").set(this.$1,"height",a+"px");b("Arbiter").inform("sidebar/resized",c,b("Arbiter").BEHAVIOR_STATE);b("Arbiter").inform("reflow")};r.prototype.resizeAndUpdateViewport=function(a){this.resize(a,function(){p=b("ChatSidebarVisibility").getViewport()})};r.prototype.show=function(){var a=document.documentElement||"";b("CSS").addClass(a,k);b("CSS").show(this.props.root);b("Arbiter").inform("sidebar/visibility",!0,b("Arbiter").BEHAVIOR_STATE);b("LitestandClassicPlaceHolders").destroy("sidebar");b("ViewportBounds").inform("change")};r.prototype.hide=function(){var a=document.documentElement||"";b("CSS").removeClass(a,k);b("CSS").hide(this.props.root);b("Arbiter").inform("sidebar/visibility",!1,b("Arbiter").BEHAVIOR_STATE);b("Arbiter").inform("reflow");b("ViewportBounds").inform("change")};r.prototype.$6=function(){return b("ChatSidebarDerivedStore").getVisibleType()};r.prototype.shouldSidebarUpdate=function(){if(this.$6()!==b("SidebarType").SIDEBAR||this.$2){this.$2&&(this.$3=!0);return!1}return!0};r.prototype.handleSizeUpdate=function(){var a=r.calculateMaxItemSlots(this.props.heightOffset),c=this.state.computedState;this.setState({computedState:b("ChatSidebarDerivedStore").get(r.calculateMaxItemSlots(this.props.heightOffset))},function(){var d=this.state.computedState,e=d.adminedPages,f=d.isUserOffline,g=d.groups,h=d.nearby,i=d.numTopFriends;d=d.pymmList;if(f!==c.isUserOffline||i!==c.numTopFriends||g.length!==c.groups.length||h.length!==c.nearby.length||e.length!==c.adminedPages.length||((f=d)!=null?(f=f.pages)!=null?f.length:f:f)!==((f=c)!=null?(f=f.pymmList)!=null?(f=f.pages)!=null?f.length:f:f:f)){new(b("MessengerDivebarSizingTypedLogger"))().setMaxItemSlots(a).setSidebarType(b("SidebarType").SIDEBAR).setNumTopFriends(i).setNumNearby(h.length).setNumGroups(g.length).setNumAdminedPages(e.length).setNumPymm(((f=d)!=null?(f=f.pages)!=null?f.length:f:f)||0).log()}}.bind(this))};r.prototype.handleUsersUpdate=function(){var a=this.state.computedState.maxItemSlots;a=b("ChatSidebarDerivedStore").get(a);this.state.computedState!==a&&this.setState({computedState:a})};r.defaultProps={heightOffset:0};e.exports=r}),null);
__d("SRFunctionRef",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}e.exports=a}),null);
__d("ChatSidebar.react",["BaseChatSidebar.react","ChatSidebarOrderedList.react","React","SRFunctionRef"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("BaseChatSidebar.react"),{initialState:a.initialState,root:a.root},b("SRFunctionRef")(function(a){var c=a.computedState,d=a.hide;a=a.onMouseEnterItem;return b("React").createElement(b("ChatSidebarOrderedList.react"),{adminedPages:c.adminedPages,availableUsers:c.availableUsers,groups:c.groups,hide:d,isAfterDomLoad:c.isAfterDomLoad,isSidebar:!0,isUserOffline:c.isUserOffline,maxItemSlots:c.maxItemSlots+1,nearby:c.nearby,offlineUsers:c.offlineUsers,onMouseEnterItem:a,pageListModule:c.pageListModule,pymmList:c.pymmList,topUsers:c.topUsers,usersDetailedData:c.usersDetailedData,workOthers:c.workOthers})}))}e.exports=a}),null);
__d("XPageAdminHomePagePanelSaveSettingsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/homepage_panel/save_settings/",{selected_id:{type:"FBID"},collapse_state:{type:"Int"},refresh_panel:{type:"Bool",defaultValue:!1},click_target:{type:"String"}})}),null);
__d("PageHomepagePanelPagelet",["AsyncRequest","DOM","UIPagelet","URI","XPageAdminHomePagePanelSaveSettingsController","$"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="homepage_panel_pagelet_content";a={init:function(a){var c=b("XPageAdminHomePagePanelSaveSettingsController").getURIBuilder().setBool("refresh_panel",!0).getURI();c.addQueryData(b("URI").getRequestURI().getQueryData());new(b("AsyncRequest"))().setURI(c).setStatusElement(a).setErrorHandler(function(a){b("DOM").setContent(b("$")(g),"")}).send()},initWithAjax:function(){b("UIPagelet").loadFromEndpoint("PageHomepagePanelPagelet",g,{content_only:!0},{usePipe:!0,allowIrrelevantRequests:!0,displayCallback:function(a){return a()}})}};e.exports=a}),null);
__d("ReactComposerPrefillActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({SET_PREFILL_DATA:null},"ReactComposerPrefillActionTypes")}),null);
__d("ReactComposerPrefillStore",["invariant","ReactComposerPrefillActionTypes","ReactComposerStoreBase"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));h=c&&c.prototype;function a(){"use strict";var a;h.constructor.call(this,function(){return{prefillConfig:{}}},function(c){switch(c.type){case b("ReactComposerPrefillActionTypes").SET_PREFILL_DATA:a&&a.$ReactComposerPrefillStore1(c);break}});a=this}a.prototype.getField=function(a,b){"use strict";return this.$ReactComposerPrefillStore2(a,[b])};a.prototype.getAndEraseField=function(a,b){"use strict";return this.getAndEraseNestedField(a,[b])};a.prototype.getAndEraseNestedField=function(a,b){"use strict";b.length>0||g(0);var c=this.$ReactComposerPrefillStore2(a,b);setTimeout(function(){this.$ReactComposerPrefillStore3(a,b)}.bind(this),0);return c};a.prototype.$ReactComposerPrefillStore2=function(a,b){"use strict";a=this.getComposerData(a).prefillConfig;for(var c=0;c<b.length;c++)a=a&&a[b[c]];return a};a.prototype.$ReactComposerPrefillStore4=function(a,b){"use strict";this.$ReactComposerPrefillStore3(a,[b])};a.prototype.$ReactComposerPrefillStore3=function(a,b){"use strict";a=this.getComposerData(a).prefillConfig;for(var c=0;c<b.length-1;c++)a=a&&a[b[c]];a!=undefined&&(a[b[b.length-1]]=null)};a.prototype.$ReactComposerPrefillStore1=function(a){"use strict";a=this.validateAction(a,["composerID","prefillConfig"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.prefillConfig=a||{}};e.exports=new a()}),null);
__d("WorkplaceChatHelper",["ChannelConstants","PresenceStatus","gkx"],(function(a,b,c,d,e,f){"use strict";a={isDesktopChatApp:function(){return window.workchat!==undefined},getAppID:function(){return window.workchat.appId},showWindow:function(){window.workchat.showWindow()},getScreenSharingSourceID:function(){return window.workchat.getScreenSharingSourceID()},stopScreenSharing:function(){return window.workchat.stopScreenSharing()},suppressChatIfActiveOnDesktop:function(){return(b("PresenceStatus").getViewerCapabilities()&b("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP)==b("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP&&b("gkx")("AT4ZMAXkzCcX4p9DjSWk5wvjd_wjBUdDPViibiBIfjvUyD6wX_fK23ETuzkop1uX0uOJihKtSxVg3O_V4WawyBhaw_xvwERDuCKoQu725uXIow")}};e.exports=a}),null);